<?xml version="1.0"?>
<robot name="surgical_biopsy_robot">

  <!-- World link for grounding -->
  <link name="world"/>

  <!-- Wall Mount Base - Fixed to the world/wall at 70cm height -->
  <link name="wall_mount_base">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <!-- Mounting plate: 5cm thick x 40cm wide x 40cm tall -->
        <box size="0.05 0.4 0.4"/>
      </geometry>
      <material name="dark_gray">
        <color rgba="0.3 0.3 0.3 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.05 0.4 0.4"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="15.0"/>
      <inertia ixx="0.533" ixy="0" ixz="0" 
               iyy="0.270" iyz="0" 
               izz="0.270"/>
    </inertial>
  </link>

  <!-- Bearing Housing - Connects wall mount to rotating cylinder -->
  <link name="bearing_housing">
    <visual>
      <origin xyz="0.05 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <!-- Housing diameter: 15cm, length: 10cm -->
        <cylinder radius="0.075" length="0.10"/>
      </geometry>
      <material name="medium_gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.05 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.075" length="0.10"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0.05 0 0" rpy="0 0 0"/>
      <mass value="3.0"/>
      <inertia ixx="0.004688" ixy="0" ixz="0" 
               iyy="0.004688" iyz="0" 
               izz="0.008438"/>
    </inertial>
  </link>

  <!-- Rotating Cylinder - 30cm long, extends perpendicular from wall -->
  <link name="rotating_cylinder">
    <visual>
      <origin xyz="0.15 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <!-- Cylinder: 10cm diameter, 30cm long -->
        <cylinder radius="0.05" length="0.30"/>
      </geometry>
      <material name="light_gray">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.15 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.05" length="0.30"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0.15 0 0" rpy="0 0 0"/>
      <mass value="4.0"/>
      <inertia ixx="0.005" ixy="0" ixz="0" 
               iyy="0.123" iyz="0" 
               izz="0.123"/>
    </inertial>
  </link>

  <!-- First Arm Joint Hub -->
  <link name="first_arm_joint">
    <visual>
      <origin xyz="0 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.04" length="0.06"/>
      </geometry>
      <material name="medium_gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.04" length="0.06"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.8"/>
      <inertia ixx="0.0008" ixy="0" ixz="0" 
               iyy="0.0008" iyz="0" 
               izz="0.00128"/>
    </inertial>
  </link>

  <!-- First Arm - 40cm mesh/truss design -->
  <link name="first_arm">
    <!-- Main structural tube -->
    <visual>
      <origin xyz="0.20 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.015" length="0.40"/>
      </geometry>
      <material name="accent_blue">
        <color rgba="0.2 0.4 0.6 1.0"/>
      </material>
    </visual>
    
    <!-- Top support strut -->
    <visual>
      <origin xyz="0.20 0 0.02" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.005" length="0.38"/>
      </geometry>
      <material name="accent_blue">
        <color rgba="0.2 0.4 0.6 1.0"/>
      </material>
    </visual>
    
    <!-- Bottom support strut -->
    <visual>
      <origin xyz="0.20 0 -0.02" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.005" length="0.38"/>
      </geometry>
      <material name="accent_blue">
        <color rgba="0.2 0.4 0.6 1.0"/>
      </material>
    </visual>
    
    <!-- Cross braces - smaller and contained within structure -->
    <visual>
      <origin xyz="0.10 0 0.01" rpy="0 0.32 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.09"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.10 0 -0.01" rpy="0 -0.32 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.09"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.20 0 0.01" rpy="0 0.32 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.09"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.20 0 -0.01" rpy="0 -0.32 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.09"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.30 0 0.01" rpy="0 0.32 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.09"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.30 0 -0.01" rpy="0 -0.32 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.09"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <!-- Vertical connecting struts -->
    <visual>
      <origin xyz="0.08 0 0" rpy="1.5708 0 0"/>
      <geometry>
        <cylinder radius="0.003" length="0.04"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.20 0 0" rpy="1.5708 0 0"/>
      <geometry>
        <cylinder radius="0.003" length="0.04"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.32 0 0" rpy="1.5708 0 0"/>
      <geometry>
        <cylinder radius="0.003" length="0.04"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <!-- Simplified collision geometry -->
    <collision>
      <origin xyz="0.20 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.025" length="0.40"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0.20 0 0" rpy="0 0 0"/>
      <mass value="1.5"/>
      <inertia ixx="0.00125" ixy="0" ixz="0" 
               iyy="0.0825" iyz="0" 
               izz="0.0825"/>
    </inertial>
  </link>

  <!-- Parallel Connection Mechanism - 10cm vertical cylinder creating T-joint -->
  <link name="parallel_connector">
    <visual>
      <origin xyz="0 0 -0.05" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.012" length="0.10"/>
      </geometry>
      <material name="medium_gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 -0.05" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.012" length="0.10"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 -0.05" rpy="0 0 0"/>
      <mass value="0.2"/>
      <inertia ixx="0.000027" ixy="0" ixz="0" 
               iyy="0.000027" iyz="0" 
               izz="0.000014"/>
    </inertial>
  </link>

  <!-- Second Arm - 40cm mesh/truss design with smaller cross braces -->
  <link name="second_arm">
    <!-- Main structural tube -->
    <visual>
      <origin xyz="0.20 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.012" length="0.40"/>
      </geometry>
      <material name="accent_blue">
        <color rgba="0.2 0.4 0.6 1.0"/>
      </material>
    </visual>
    
    <!-- Top support strut -->
    <visual>
      <origin xyz="0.20 0 0.015" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.004" length="0.38"/>
      </geometry>
      <material name="accent_blue">
        <color rgba="0.2 0.4 0.6 1.0"/>
      </material>
    </visual>
    
    <!-- Bottom support strut -->
    <visual>
      <origin xyz="0.20 0 -0.015" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.004" length="0.38"/>
      </geometry>
      <material name="accent_blue">
        <color rgba="0.2 0.4 0.6 1.0"/>
      </material>
    </visual>
    
    <!-- Cross braces - smaller and contained within structure -->
    <visual>
      <origin xyz="0.08 0 0.0075" rpy="0 0.25 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.08"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.08 0 -0.0075" rpy="0 -0.25 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.08"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <!-- Cross braces - middle section -->
    <visual>
      <origin xyz="0.20 0 0.0075" rpy="0 0.25 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.08"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.20 0 -0.0075" rpy="0 -0.25 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.08"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <!-- Cross braces - end section -->
    <visual>
      <origin xyz="0.32 0 0.0075" rpy="0 0.25 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.08"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.32 0 -0.0075" rpy="0 -0.25 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.08"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <!-- Vertical connecting struts -->
    <visual>
      <origin xyz="0.08 0 0" rpy="1.5708 0 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.03"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.16 0 0" rpy="1.5708 0 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.03"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.24 0 0" rpy="1.5708 0 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.03"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <visual>
      <origin xyz="0.32 0 0" rpy="1.5708 0 0"/>
      <geometry>
        <cylinder radius="0.002" length="0.03"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    
    <!-- Simplified collision geometry -->
    <collision>
      <origin xyz="0.20 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.02" length="0.40"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0.20 0 0" rpy="0 0 0"/>
      <mass value="1.0"/>
      <inertia ixx="0.0006" ixy="0" ixz="0" 
               iyy="0.0139" iyz="0" 
               izz="0.0139"/>
    </inertial>
  </link>

  <!-- Effector Base Joint Hub - for Y-axis rotation -->
  <link name="effector_base_joint">
    <visual>
      <origin xyz="0 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.018" length="0.04"/>
      </geometry>
      <material name="medium_gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.018" length="0.04"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="0.00003" ixy="0" ixz="0" 
               iyy="0.00003" iyz="0" 
               izz="0.0000324"/>
    </inertial>
  </link>

  <!-- Cylindrical Effector Base - 10cm length, vertically oriented upward -->
  <link name="effector_base">
    <visual>
      <origin xyz="0 0 0.05" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.015" length="0.10"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0.05" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.015" length="0.10"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0.05" rpy="0 0 0"/>
      <mass value="0.3"/>
      <inertia ixx="0.00011" ixy="0" ixz="0" 
               iyy="0.00011" iyz="0" 
               izz="0.0000675"/>
    </inertial>
  </link>

  <!-- Effector Extension - starts inside base, extends outward -->
  <link name="effector_extension">
    <visual>
      <origin xyz="0 0 0.025" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.012" length="0.05"/>
      </geometry>
      <material name="steel_gray">
        <color rgba="0.6 0.6 0.65 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0.025" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.012" length="0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0.025" rpy="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="0.000007" ixy="0" ixz="0" 
               iyy="0.000007" iyz="0" 
               izz="0.0000144"/>
    </inertial>
  </link>

  <!-- Spherical Joint Housing -->
  <link name="spherical_housing">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.025"/>
      </geometry>
      <material name="medium_gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.15"/>
      <inertia ixx="0.0000375" ixy="0" ixz="0" 
               iyy="0.0000375" iyz="0" 
               izz="0.0000375"/>
    </inertial>
  </link>

  <!-- Spherical Joint Middle -->
  <link name="spherical_middle">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.02"/>
      </geometry>
      <material name="medium_gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.02"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="0.000016" ixy="0" ixz="0" 
               iyy="0.000016" iyz="0" 
               izz="0.000016"/>
    </inertial>
  </link>

  <!-- Spherical Joint End -->
  <link name="spherical_end">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <material name="dark_gray">
        <color rgba="0.3 0.3 0.3 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.05"/>
      <inertia ixx="0.0000045" ixy="0" ixz="0" 
               iyy="0.0000045" iyz="0" 
               izz="0.0000045"/>
    </inertial>
  </link>

  <!-- End Effector (extendable needle) - starts inside spherical joint -->
  <link name="end_effector">
    <visual>
      <origin xyz="0.05 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.001" length="0.1"/>
      </geometry>
      <material name="needle_steel">
        <color rgba="0.8 0.8 0.85 1.0"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.05 0 0" rpy="0 1.5708 0"/>
      <geometry>
        <cylinder radius="0.001" length="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0.05 0 0" rpy="0 0 0"/>
      <mass value="0.005"/>
      <inertia ixx="0.0000001" ixy="0" ixz="0" 
               iyy="0.000004" iyz="0" 
               izz="0.000004"/>
    </inertial>
  </link>

  <!-- JOINTS -->

  <!-- Fixed joint: World to wall mount (70cm high) -->
  <joint name="world_to_wall" type="fixed">
    <parent link="world"/>
    <child link="wall_mount_base"/>
    <origin xyz="0 0 0.7" rpy="0 0 0"/>
  </joint>

  <!-- Fixed joint: Wall to bearing housing -->
  <joint name="wall_to_bearing" type="fixed">
    <parent link="wall_mount_base"/>
    <child link="bearing_housing"/>
    <origin xyz="0.025 0 0" rpy="0 0 0"/>
  </joint>

  <!-- Revolute joint: Bearing to cylinder (X-axis rotation) -->
  <joint name="base_rotation" type="revolute">
    <parent link="bearing_housing"/>
    <child link="rotating_cylinder"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-3.14159" upper="3.14159" effort="150" velocity="0.8"/>
    <dynamics damping="1.0" friction="0.2"/>
  </joint>

  <!-- Fixed joint: Cylinder to first arm joint -->
  <joint name="cylinder_to_first_joint" type="fixed">
    <parent link="rotating_cylinder"/>
    <child link="first_arm_joint"/>
    <origin xyz="0.30 0 0" rpy="0 0 0"/>
  </joint>

  <!-- Revolute joint: First arm joint rotation (Y-axis) -->
  <joint name="first_arm_rotation" type="revolute">
    <parent link="first_arm_joint"/>
    <child link="first_arm"/>
    <origin xyz="0.03 0 0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.5708" upper="1.5708" effort="100" velocity="0.6"/>
    <dynamics damping="0.8" friction="0.15"/>
  </joint>

  <!-- Fixed joint: First arm to vertical connector - downward from first arm -->
  <joint name="first_arm_to_connector" type="fixed">
    <parent link="first_arm"/>
    <child link="parallel_connector"/>
    <origin xyz="0.40 0 0" rpy="0 0 0"/>
  </joint>

  <!-- Revolute joint: Vertical connector to second arm (at bottom of cylinder) -->
  <joint name="second_arm_rotation" type="revolute">
    <parent link="parallel_connector"/>
    <child link="second_arm"/>
    <origin xyz="0 0 -0.10" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-3.14159" upper="3.14159" effort="80" velocity="0.5"/>
    <dynamics damping="0.6" friction="0.1"/>
  </joint>

  <!-- Fixed joint: Second arm to effector base joint -->
  <joint name="second_arm_to_effector_joint" type="fixed">
    <parent link="second_arm"/>
    <child link="effector_base_joint"/>
    <origin xyz="0.40 0 0" rpy="0 0 0"/>
  </joint>

  <!-- Revolute joint: Effector base joint to effector base (Y-axis rotation) -->
  <joint name="effector_base_rotation" type="revolute">
    <parent link="effector_base_joint"/>
    <child link="effector_base"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.5708" upper="1.5708" effort="50" velocity="0.8"/>
    <dynamics damping="0.5" friction="0.08"/>
  </joint>

  <!-- Prismatic joint: Effector base extension - extension slides out from within base -->
  <joint name="effector_extension" type="prismatic">
    <parent link="effector_base"/>
    <child link="effector_extension"/>
    <origin xyz="0 0 0.05" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="0" upper="0.05" effort="30" velocity="0.02"/>
    <dynamics damping="0.8" friction="0.1"/>
  </joint>

  <!-- Fixed joint: Extension to spherical housing - at end of extension -->
  <joint name="extension_to_spherical" type="fixed">
    <parent link="effector_extension"/>
    <child link="spherical_housing"/>
    <origin xyz="0 0 0.05" rpy="0 0 0"/>
  </joint>

  <!-- Spherical joint (implemented as 3 revolute joints) -->
  <!-- First rotation: Yaw (Z-axis) -->
  <joint name="spherical_yaw" type="revolute">
    <parent link="spherical_housing"/>
    <child link="spherical_middle"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.14159" upper="3.14159" effort="20" velocity="1.5"/>
    <dynamics damping="0.3" friction="0.05"/>
  </joint>

  <!-- Second rotation: Pitch (Y-axis) - reversed direction to avoid base collision -->
  <joint name="spherical_pitch" type="revolute">
    <parent link="spherical_middle"/>
    <child link="spherical_end"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="0 -1 0"/>
    <limit lower="0" upper="3.14159" effort="20" velocity="1.5"/>
    <dynamics damping="0.3" friction="0.05"/>
  </joint>

  <!-- Prismatic joint: Final needle extension - needle slides out from spherical joint -->
  <joint name="needle_extension" type="prismatic">
    <parent link="spherical_end"/>
    <child link="end_effector"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0" upper="0.1" effort="10" velocity="0.01"/>
    <dynamics damping="1.0" friction="0.2"/>
  </joint>

</robot>